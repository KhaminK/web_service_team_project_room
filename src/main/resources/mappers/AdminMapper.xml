<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.handong.web.room.dao.AdminDao">

    <select id="selectRecentUserStats" resultType="java.util.Map">
        SELECT
            DATE_FORMAT(created_at, '%m월') as period,
            COUNT(*) as count
        FROM tb_user
        WHERE created_at >= DATE_SUB(NOW(), INTERVAL 3 MONTH)
        GROUP BY period
        ORDER BY period ASC
    </select>

    <select id="selectRecentRoomStats" resultType="java.util.Map">
        SELECT
            DATE_FORMAT(created_at, '%m월') as period,
            COUNT(*) as count
        FROM tb_room
        WHERE created_at >= DATE_SUB(NOW(), INTERVAL 3 MONTH)
        GROUP BY period
        ORDER BY period ASC
    </select>

</mapper>